<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="prettyprint.xsl"?>

<SimulationScenario xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://aor-simulation.org ../../../../ext/aorsl/AORSL-0-8-1.xsd" xmlns="http://aor-simulation.org"
    xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:aors="http://aor-simulation.org"
    version="0.8.1" scenarioName="PredatorAndPrey" scenarioTitle="predator and prey ecosystem simulation"
    simulationManagerDirectory="../../..">
    
  <SimulationParameters simulationSteps="1000" stepDuration="10" timeUnit="ms" stepTimeDelay="100"/>

	<include xmlns="http://www.w3.org/2001/XInclude" href="../scenario.xml" xpointer="SimMod"/>  

  <InitialState>	
        <PhysicalAgents type="Prey" rangeStartID="1" rangeEndID="50">
            <Slot xsi:type="aors:OpaqueExprSlot" property="x">
                <ValueExpr language="Java"><![CDATA[ Random.uniformInt(1, (int) Simulator.spaceModel.getXMax()) ]]></ValueExpr>
            </Slot>
            <Slot xsi:type="aors:OpaqueExprSlot" property="y">
                <ValueExpr language="Java"><![CDATA[ Random.uniformInt(1, (int) Simulator.spaceModel.getYMax()) ]]></ValueExpr>
            </Slot>
            <Slot  xsi:type="aors:OpaqueExprSlot" property="sex">
                <ValueExpr language="Java"><![CDATA[ Random.uniformInt(1, 2) ]]></ValueExpr>
            </Slot>
            <Slot  xsi:type="aors:OpaqueExprSlot" property="specimenType">
                <ValueExpr language="Java"><![CDATA[ SpecimenType.PREY ]]></ValueExpr>
            </Slot>
            <Slot  xsi:type="aors:OpaqueExprSlot" property="age">
                <ValueExpr language="Java"><![CDATA[ Random.uniformInt(1, 2000) ]]></ValueExpr>
            </Slot>
            <Slot  xsi:type="aors:OpaqueExprSlot" property="maxAge">
                <ValueExpr language="Java"><![CDATA[ Random.uniformInt(3000, 5000) ]]></ValueExpr>
            </Slot>
            <Slot  xsi:type="aors:OpaqueExprSlot" property="energy">
                <ValueExpr language="Java"><![CDATA[ Random.uniformInt(50, 100) ]]></ValueExpr>
            </Slot>
        </PhysicalAgents>
        
        <PhysicalAgents type="Predator" rangeStartID="100" rangeEndID="104">
            <Slot xsi:type="aors:OpaqueExprSlot" property="x">
                <ValueExpr language="Java"><![CDATA[ Random.uniformInt(1, (int) Simulator.spaceModel.getXMax()) ]]></ValueExpr>
            </Slot>
            <Slot xsi:type="aors:OpaqueExprSlot" property="y">
                <ValueExpr language="Java"><![CDATA[ Random.uniformInt(1, (int) Simulator.spaceModel.getYMax()) ]]></ValueExpr>
            </Slot>
            <Slot  xsi:type="aors:OpaqueExprSlot" property="sex">
                <ValueExpr language="Java"><![CDATA[ Random.uniformInt(1, 2) ]]></ValueExpr>
            </Slot>
            <Slot  xsi:type="aors:OpaqueExprSlot" property="specimenType">
                <ValueExpr language="Java"><![CDATA[ SpecimenType.PREDATOR ]]></ValueExpr>
            </Slot>
            <Slot  xsi:type="aors:OpaqueExprSlot" property="age">
                <ValueExpr language="Java"><![CDATA[ Random.uniformInt(1, 1000) ]]></ValueExpr>
            </Slot>
            <Slot  xsi:type="aors:OpaqueExprSlot" property="maxAge">
                <ValueExpr language="Java"><![CDATA[ Random.uniformInt(3000, 5000) ]]></ValueExpr>
            </Slot>
            <Slot  xsi:type="aors:OpaqueExprSlot" property="energy">
                <ValueExpr language="Java"><![CDATA[ Random.uniformInt(50, 150) ]]></ValueExpr>
            </Slot>
        </PhysicalAgents>
        
        <PhysicalAgents type="FoodRessource" rangeStartID="1000" rangeEndID="1014">
            <Slot xsi:type="aors:OpaqueExprSlot" property="x">
                <ValueExpr language="Java"><![CDATA[ Random.uniformInt(1, (int) Simulator.spaceModel.getXMax()) ]]></ValueExpr>
            </Slot>
            <Slot xsi:type="aors:OpaqueExprSlot" property="y">
                <ValueExpr language="Java"><![CDATA[ Random.uniformInt(1, (int) Simulator.spaceModel.getYMax()) ]]></ValueExpr>
            </Slot>
        </PhysicalAgents>
        
        <GridCells>
            <Slot xsi:type="aors:SimpleSlot" property="foodLevel" value="4"/>
            <Slot xsi:type="aors:SimpleSlot" property="specimenId" value="0"/>
        </GridCells>
        
        <ExogenousEvent occurrenceTime="1" type="NextSimulationStep"/>
    </InitialState>
    
    <Views>
        <SpaceView>
            <Grid>
                <VisualizationMap cellViewProperty="fill" cellProperty="foodLevel" caseWise="true" v0="rgb(216,167,99)" a0="1" v1="rgb(170,198,99)" a1="2" v2="rgb(147,198,44)" a2="3" v3="rgb(103,198,44)" a3="4" v4="rgb(0,169,44)"/>
            </Grid>
        </SpaceView>
        
        <View physicalObjectType="Prey" shape2D="rectangle">
            <!--<DisplayInfo property="energy"></DisplayInfo>-->
            <ShapeSlot shapeProperty="fill" value="white"/>
            <VisualizationMap property="width" shapeProperty="width" caseWise="false" a0="8"/>
            <VisualizationMap property="width" shapeProperty="height" caseWise="false" a0="8"/>
        </View>
        
        <View physicalObjectType="Predator" shape2D="rectangle">
            <!--<DisplayInfo property="energy"></DisplayInfo>-->
            <ShapeSlot shapeProperty="fill" value="black"/>
            <VisualizationMap property="width" shapeProperty="width" caseWise="false" a0="8"/>
            <VisualizationMap property="width" shapeProperty="height" caseWise="false" a0="8"/>
        </View>
        
        <EventAppearance eventType="KillPrey" soundFile="sheep.mp3"/>
    </Views>
</SimulationScenario>
