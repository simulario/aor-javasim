<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="prettyprint.xsl"?>

<SimulationScenario version="0.8.4" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xsi:schemaLocation="http://aor-simulation.org ../../AORSL/AORSL_0-8-4.xsd" 
	xmlns="http://aor-simulation.org" xmlns:aors="http://aor-simulation.org" 
	xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:h="http://www.w3.org/1999/xhtml"
	scenarioName="MultiValuedSlot_TestCaseExample"
	scenarioTitle="MultiValuedSlot TestCaseExample"
	simulationManagerDirectory="../../..">

	<SimulationParameters simulationSteps="20" timeUnit="h"  stepTimeDelay="0"/>
	<SimulationModel modelName="MultiValuedSlot_TestCase_Example">
		<documentation>
			<dc:modified>20100928</dc:modified>
		</documentation>
		
		<EntityTypes>	
	   <ExogenousEventType name="StartOfDay" periodicity="1" />	

			<!-- ======================= -->
       <AgentType name="Market">
      <!-- ======================= -->
       	<ComplexDataProperty name="offers" type="String" upperMultiplicity="unbounded"/>
         <ReactionRule name="test">
         	<ON-EACH-SIMULATION-STEP/>
         	<DO>
         		<UPDATE-AGT>
         			<MultiValuedSlot property="offers">
         				<Add>
         					<ValueExpr language="Java"><![CDATA[ "test" ]]></ValueExpr>
         				</Add>
         			</MultiValuedSlot>
         		</UPDATE-AGT>
         	</DO>
         </ReactionRule>
       </AgentType>

		</EntityTypes>

		<EnvironmentRules>
				<!-- ==================================== -->
				<EnvironmentRule name="StartOfDay_Rule">
					<!-- ================================== -->
					<documentation>
						<description> Test the MultiValuedSlot element. </description>
					</documentation>
					<WHEN eventType="StartOfDay" />
					<FOR objectVariable="m" objectType="Market" />
					<DO>
						<UPDATE-ENV>
							<UpdateObject objectVariable="m">
								<MultiValuedSlot property="offers">
									<Add>
										<ValueExpr language="Java"><![CDATA[
										"test"
										]]></ValueExpr>
									</Add>
								</MultiValuedSlot>
							</UpdateObject>
						</UPDATE-ENV>
					</DO>
				</EnvironmentRule>		
			</EnvironmentRules>
	</SimulationModel>
	<!-- ======================= -->
	<InitialState>
	<!-- ======================= -->
		<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->			
		<Agent type="Market" id="1">
		<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
		</Agent>

		<ExogenousEvent occurrenceTime="1" type="StartOfDay" />
		
	</InitialState>
	
</SimulationScenario>
